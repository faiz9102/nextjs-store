mutation AddConfigurableToCart($cartId: String!, $parentSku: String!, $childSku: String!, $qty: Float!) {
    addConfigurableProductsToCart(
        input: {
            cart_id: $cartId
            cart_items: [
                {
                    parent_sku: $parentSku
                    data: { sku: $childSku, quantity: $qty }
                }
            ]
        }
    ) {
        cart {
            ...CartFields
        }
    }
}

fragment CartFields on Cart {
    id
    itemsV2 {
        items {
            uid
            quantity
            product {
                name
                sku
                thumbnail {
                    url
                }
            }
            prices {
                row_total {
                    value
                    currency
                }
            }
        }
        total_count
    }
    prices {
        grand_total {
            value
            currency
        }
    }
}
